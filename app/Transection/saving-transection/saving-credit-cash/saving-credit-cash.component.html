<app-client [formType]="'SavAcc'" [editId]="selectedId" (selectedClient)="clientSelected($event)"></app-client>
<form
  (keydown.enter)="$event.preventDefault()"
  *ngIf="loadMainForm"
  [formGroup]="addNewCreditCashForm"
  (submit)="onSubmit(addNewCreditCashForm)">
  <div class="grid">
    <div class="col-12">
      <h1 class="text-sm py-2">Credit Cash Form</h1>
    </div>
    <div class="col-12 sm:col-6 md:col-4">
      <div class="field grid">
        <label htmlFor="date1" class="col-12 mb-2 md:col-4 md:mb-0"> Issue Date</label>
        <div class="col-12 md:col-8">
          <p-calendar
            appDateFormat
            id="date1"
            styleClass="w-full"
            appendTo="body"
            formControlName="date1"
            name="date1"
            [showIcon]="true"
            [required]="true"
            #date1></p-calendar>
        </div>
        <div class="col-12"></div>
      </div>
    </div>
    <div class="col-12 sm:col-6 md:col-4">
      <div class="field grid">
        <label htmlFor="" class="col-12 mb-2 md:col-4 md:mb-0">Opening Balance </label>
        <div class="col-12 md:col-8">
          {{ creditAccountData?.account_balance_derived }}
        </div>
        <div class="col-12"></div>
      </div>
    </div>
    <div class="col-12"></div>

    <div class="col-12 sm:col-6 md:col-4">
      <div class="field grid">
        <label htmlFor="cr_amount" class="col-12 mb-2 md:col-4 md:mb-0"> CR Amount</label>
        <div class="col-12 md:col-8">
          <p-inputNumber
            (keyup)="validateAmount($event.target)"
            [useGrouping]="false"
            id="cr_amount"
            formControlName="cr_amount"
            name="cr_amount"
            #cr_amount></p-inputNumber>
        </div>
        <div class="col-12"></div>
      </div>
    </div>
    <div class="col-12 sm:col-6 md:col-4">
      <div class="field grid">
        <label htmlFor="" class="col-12 mb-2 md:col-4 md:mb-0">Closing Balance </label>
        <div class="col-12 md:col-8">
          {{ closingAmount }}
        </div>
        <div class="col-12"></div>
      </div>
    </div>
    <div class="col-12"></div>
    <div class="col-12 sm:col-6 md:col-4">
      <div class="field grid">
        <label htmlFor="instrument_id" class="col-12 mb-2 md:col-4 md:mb-0">Instrument Id</label>
        <div class="col-12 md:col-8">
          <p-dropdown
            id="instrument_id"
            styleClass="w-full"
            appendTo="body"
            formControlName="instrument_id"
            name="instrument_id"
            #instrument_id
            optionLabel="instrument_name"
            optionValue="id"
            [filter]="true"
            placeholder="Select Instrument"
            [options]="instrumentDisplayArray"></p-dropdown>
        </div>
        <div class="col-12"></div>
      </div>
    </div>
    <div class="col-12 sm:col-6 md:col-4">
      <div class="field grid">
        <label htmlFor="gl_account_id" class="col-12 mb-2 md:col-4 md:mb-0">GL Account Id</label>
        <div class="col-12 md:col-8">
          <p-dropdown
            id="gl_account_id"
            styleClass="w-full"
            appendTo="body"
            formControlName="gl_account_id"
            name="gl_account_id"
            #gl_account_id
            optionLabel="account_name"
            optionValue="id"
            [filter]="true"
            placeholder="Select GL Account"
            [options]="GLAccountData"></p-dropdown>
        </div>
        <div class="col-12"></div>
      </div>
    </div>

    <div class="col-12"></div>
    <div class="col-12 sm:col-6 md:col-4">
      <div class="field grid">
        <label htmlFor="instrument_number" class="col-12 mb-2 md:col-4 md:mb-0">Instrument Number</label>
        <div class="col-12 md:col-8">
          <p-inputNumber
            [useGrouping]="false"
            id="instrument_number"
            formControlName="instrument_number"
            name="instrument_number"
            #instrument_number></p-inputNumber>
        </div>
        <div class="col-12"></div>
      </div>
    </div>
    <div class="col-12 sm:col-6 md:col-4">
      <div class="field grid">
        <label htmlFor="voucher_number" class="col-12 mb-2 md:col-4 md:mb-0">Voucher Number </label>
        <div class="col-12 md:col-8">
          <p-inputNumber
            [useGrouping]="false"
            id="voucher_number"
            formControlName="voucher_number"
            name="voucher_number"
            #voucher_number></p-inputNumber>
        </div>
        <div class="col-12"></div>
      </div>
    </div>
    <div class="col-12"></div>
    <div class="col-12 sm:col-6 md:col-4">
      <div class="field grid">
        <label htmlFor="remarks" class="col-12 mb-2 md:col-4 md:mb-0"> Remarks </label>
        <div class="col-12 md:col-8">
          <input pInputText id="remarks" type="text" formControlName="remarks" #remarks />
        </div>
        <div class="col-12"></div>
      </div>
    </div>
    <div class="col-12 text-right">
      <button type="submit" pButton icon="pi pi-check" label="SAVE" class="px-4"></button>
    </div>
  </div>
</form>
